<!--<p>schedule-block works!</p>-->
<!--<div *ngFor = "let item of curriculumTopicTrainingPrograms, index as i">-->
<!--  <h4>{{i + 1}}. {{item.topicTitle}}</h4>-->
<!--</div>-->

<ng-select *ngIf="groups.length !== 0" [items]="this.groups" [clearable]="false"
           (change)="selectTopic()"
           bindValue="groupNumber"
           bindLabel="groupNumber"
           [(ngModel)]="elementData.group"
           placeholder="Группа">
</ng-select>

<table width="100%">
  <tr>
    <td>
      <ejs-datetimepicker placeholder="Дата начала" [(ngModel)]="elementData.startTime">

      </ejs-datetimepicker>
    </td>
    <td>
      <ejs-datetimepicker placeholder="Дата конца" [(ngModel)]="elementData.endTime">

      </ejs-datetimepicker>
    </td>
  </tr>
  <tr hidden>
    <td>
      <ejs-datetimepicker id="startTime" class="e-field" data-name="startTime" format="M/dd/yy h:mm a"
                          [value]="dateParser(elementData.startTime)"></ejs-datetimepicker>
      <ejs-datetimepicker id="endTime" class="e-field" data-name="endTime" format="M/dd/yy h:mm a"
                          [value]='dateParser(elementData.endTime)'></ejs-datetimepicker>
      <input id="roomId" class="e-field e-input" type="text" value="{{elementData.roomId}}" name="roomId"
             style="width: 100%" />
      <input id="group" class="e-field e-input" type="text" value="{{elementData.group}}" name="group"
             style="width: 100%" />
      <ejs-dropdownlist class="e-field" data-name="roomId" [dataSource]='this.rooms'
                        [value]='getResourceValue(elementData)' [fields]='fields'></ejs-dropdownlist>
      <input id="topic" class="e-field e-input" type="text" value="{{elementData.topic}}" name="topic"
             style="width: 100%" />
      <input id="teacher" class="e-field e-input" type="text" value="{{elementData.teacher}}" name="teacher"
             style="width: 100%" />
      <input id="metaData" class="e-field e-input" type="text" value="{{elementData.metaData}}" name="metaData"
             style="width: 100%" />
    </td>
  </tr>
</table>

<div class="normalCheckBox">
  <mdb-checkbox (change)="MergeWithSubGroup('divideSubGroups', $event.checked)">Разделить по подгруппам</mdb-checkbox>
</div>


<div class="container" *ngIf="curriculumTopicTrainingPrograms.length !== 0">
  <div class="left">
    <ng-select [items]="this.curriculumTopicTrainingPrograms" [clearable]="false"
               (change)="selectTopic()"
               bindValue="topicTitle"
               bindLabel="topicTitle"
               [(ngModel)]="elementData.topic"
               placeholder="Тема">
    </ng-select>
  </div>
  <div class="middle" >
    <div class="mergeButton">
      <button *ngIf="divideSubGroups"
              type="button" mdbBtn color="primary" class="relative waves-light" size="sm" (click)="MergeWithSubGroup('combineTopic')"
              mdbWavesEffect><mdb-icon fas icon="sign-in-alt" size="lg"></mdb-icon></button>
    </div>
  </div>
  <div class="right" >
    <ng-select [items]="this.curriculumTopicTrainingPrograms" [clearable]="false" [disabled]="!combineTopic" *ngIf="divideSubGroups"
               (change)="selectTopic()"
               bindValue=""
               bindLabel="topicTitle"
               [(ngModel)]="selectedTopicAux"
               placeholder="Тема">
    </ng-select>
  </div>
</div>

<div class="container" *ngIf="teachers.length !== 0">
  <div class="left">
    <ng-select [items]="this.teachers" [clearable]="false"
               (change)="selectTopic()"
               bindValue="fullNameForm"
               bindLabel="fullNameForm"
               [(ngModel)]="elementData.teacher"
               placeholder="Преподаватель">
    </ng-select>
  </div>
  <div class="middle">
    <button *ngIf="divideSubGroups"
      type="button" mdbBtn color="primary" class="relative waves-light" size="sm" (click)="MergeWithSubGroup('combineTeacher')"
      mdbWavesEffect><mdb-icon fas icon="sign-in-alt" size="lg"></mdb-icon></button>
  </div>
  <div class="right" >
    <ng-select [items]="this.teachers" [clearable]="false" [disabled]="!combineTeacher" *ngIf="divideSubGroups"
               (change)="selectTopic()"
               bindValue=""
               bindLabel="fullNameForm"
               [(ngModel)]="selectedTeacherAux"
               placeholder="Преподаватель">
    </ng-select>
  </div>
</div>

<div class="container" *ngIf="rooms.length !== 0">
  <div class="left">
    <ng-select [items]="this.rooms" [clearable]="false"
               (change)="selectTopic()"
               bindValue="name"
               bindLabel="name"
               [(ngModel)]="elementData.room"
               placeholder="Аудитория">
    </ng-select>
  </div>
  <div class="middle">
    <button *ngIf="divideSubGroups"
            type="button" mdbBtn color="primary" class="relative waves-light" size="sm" (click)="MergeWithSubGroup('combineRoom')"
            mdbWavesEffect><mdb-icon fas icon="sign-in-alt" size="lg"></mdb-icon></button>
  </div>
  <div class="right">
    <ng-select [items]="this.rooms" [clearable]="false" [disabled]="!combineRoom" *ngIf="divideSubGroups"
               (change)="selectTopic()"
               bindValue=""
               bindLabel="name"
               [(ngModel)]="selectedRoomAux"
               placeholder="Аудитория">
    </ng-select>
  </div>
</div>
